
<div id="create-post-container" class="mt-3">

  <div class="username"><div>{{username}}</div></div>
  <input id="create-post" (click)="blurInput()" href="#createPost" role="button" data-toggle="modal" placeholder="Create a new post!"/>
</div>

<div id="createPost" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div>
          <div class="revature" >
            <div *ngIf="!visible" id="new-loc" class="btn revature" (click)="toggleCreateLocation()">Add New Location</div>
            <div id="create-city-container" *ngIf="visible">
              <input id="create-city" [(ngModel)]="city" placeholder="Enter Your City"/>
              <select id="select-city" [(ngModel)]="state">
                <option value="" disabled selected>Select State</option>
                <option *ngFor="let state of states" [value]="state">
                  {{ state }}
                </option>
              </select>
              <div style="display: inline-block">
                <div class="revature new-loc-btn" (click)= "addLocation(); addLocationToPost()" type="submit">
                  Add
                </div>
                <div class="revature new-loc-btn" (click)= "toggleCreateLocation()" type="submit">
                  Cancel
                </div>
              </div>
              <div class='orange'>{{error}}</div>
            </div>
            <div id="sel" >
              <select [(ngModel)]="this.locationForPosts" name="location" id="location">
                <option value="0" disabled selected>Select Location</option>
                <option *ngFor="let loc of locationdata" value="{{loc.id}}">
                  {{ loc.city }}, {{ loc.state }}
                </option>
              </select>
              <select name="categoryType" id="category" [(ngModel)]="this.categoryType">
                <option value="" disabled selected>Select Category</option>
                <option value="Housing">Housing</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Food">Food</option>
                <option value="Event">Event</option>
              </select>
            </div>
          
            <form #form="ngForm" action="readpost" method="get">
              <div class="form-group">
                <input type="text" class="form-control p-input" placeholder="Title" name="Title" [(ngModel)]="title" required/>
              </div>
              <div class="form-group">
                <textarea type="text" class="form-control p-text" placeholder="Content" name="content" [(ngModel)]="content" (keyup)="autoGrow()" required #textArea>
                </textarea>
              </div>
              <div>
                <div class="btn post-submit" type="button" (click)="submitPost()">
                  Submit
                </div>
                <div id="cancel-post" class="btn post-cancel" type="button" data-dismiss="modal">
                Cancel
              </div>
              </div>
              <div class="orange">{{postError}}</div>
            </form>
          </div>
          </div>
    </div>
</div>